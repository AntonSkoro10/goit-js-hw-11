{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const markupItem = images => {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        comments,\n        views,\n        downloads,\n      }) => {\n        return `\n          <li class=\"gallery-item\">\n            <a href=\"${largeImageURL}\" class=\"gallery-link\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\">\n            </a>\n            <div class=\"small-content\">\n              <small class=\"text-likes\">Likes: ${likes}</small>\n              <small class=\"text-views\">Views: ${views}</small>\n              <small class=\"text-comments\">Comments: ${comments}</small>\n              <small class=\"text-downloads\">Downloads: ${downloads}</small>\n            </div>\n          </li>`;\n      }\n    )\n    .join('');\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n})","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst API_KEY = '43933435-35fbbd09623d667ed19d4c9fb'; \nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchPhotos(query) {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  })\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText)\n    }\n    return response.json()\n  })\n}\n","import { markupItem } from './js/render-function.js';\nimport { fetchPhotos } from './js/pixabay-api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryElement = document.querySelector('.gallery-list');\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.js-loader');\n\nfunction searchFormSubmit(event) {\n  event.preventDefault();\n\n  const searchQuery = event.target.elements.keyboardSearch.value.trim();\n  if (searchQuery === '') {\n    galleryElement.innerHTML = '';\n    event.target.reset();\n    iziToast.error({\n      title: 'Error',\n      message: 'Search query cannot be empty!',\n      position: 'topRight',\n      timeout: 2000,\n    });\n    return;\n  }\n\n  galleryElement.innerHTML = '';\n  loader.classList.remove('is-hidden');\n\n  fetchPhotos(searchQuery)\n    .then(imagesData => {\n      if (imagesData.totalHits === 0) {\n        iziToast.show({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 2000,\n          color: 'red'\n        });\n        loader.classList.add('is-hidden');\n        return\n      }\n      galleryElement.innerHTML = markupItem(imagesData.hits);\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong, please try again later!',\n        position: 'topRight',\n        timeout: 2000,\n      });\n    })\n    .finally(() => {\n      event.target.reset();\n      loader.classList.add('is-hidden');\n    });\n}\n\nform.addEventListener('submit', searchFormSubmit);\n"],"names":["markupItem","images","webformatURL","largeImageURL","tags","likes","comments","views","downloads","SimpleLightbox","API_KEY","BASE_URL","fetchPhotos","query","searchParams","response","galleryElement","form","loader","searchFormSubmit","event","searchQuery","iziToast","imagesData","error"],"mappings":"6vBAGO,MAAMA,EAAaC,GACjBA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,uBAEQL,CAAa;AAAA,0BACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,iDAGHC,CAAK;AAAA,iDACLE,CAAK;AAAA,uDACCD,CAAQ;AAAA,yDACNE,CAAS;AAAA;AAAA,gBAI7D,EACA,KAAK,EAAE,EAGK,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,ECjCD,MAAMC,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,KAAM,CAC1B,CAAG,CACH,CCbA,MAAMC,EAAiB,SAAS,cAAc,eAAe,EACvDC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,YAAY,EAElD,SAASC,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,eAAe,MAAM,OAC/D,GAAIC,IAAgB,GAAI,CACtBL,EAAe,UAAY,GAC3BI,EAAM,OAAO,QACbE,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACT,SAAU,WACV,QAAS,GACf,CAAK,EACD,MACD,CAEDN,EAAe,UAAY,GAC3BE,EAAO,UAAU,OAAO,WAAW,EAEnCN,EAAYS,CAAW,EACpB,KAAKE,GAAc,CAClB,GAAIA,EAAW,YAAc,EAAG,CAC9BD,EAAS,KAAK,CACZ,QAAS,2EACT,SAAU,WACV,QAAS,IACT,MAAO,KACjB,CAAS,EACDJ,EAAO,UAAU,IAAI,WAAW,EAChC,MACD,CACDF,EAAe,UAAYhB,EAAWuB,EAAW,IAAI,EACpC,IAAId,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,CACP,CAAK,EACA,MAAMe,GAAS,CACdF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbF,EAAM,OAAO,QACbF,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL,CAEAD,EAAK,iBAAiB,SAAUE,CAAgB"}